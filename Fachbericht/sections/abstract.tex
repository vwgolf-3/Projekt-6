\begin{abstract}

Der technologische Fortschritt ist seit Jahren am explodieren. Das Internet der Dinge, oder auf Englisch auch Internet of things, kurz IoT, ist ein Produkt aus diesem Fortschritt. Es beschreibt ein Netz aus physikalischen und virtuellen Komponenten, welche miteinander kommunizieren, um einem Grösseren ganzen zu dienen. Im Zentrum steht nebst der Interaktion zwischen Mensch und elektronischen Systemen die Interaktion zwischen verschiedenen Systemen. In dieser Bachelorthesis wird anhand der Entwicklung einer IoT-Cocktailmaschine demonstriert, weilche Teilsysteme wie genutzt werden können, um ein fertiges Produkt zu entwickeln.
Die Herausforderung liegt im gesamten Produktentwicklungsprozess, welcher
\begin{itemize}
\item die Projektauswahl, -Planung und -Abgrenzung,
\item das Erstellen der Anforderungen an das Gesamtsystem und die enthaltenen Teilsysteme,
\item die Wahl, das Testen, Implementieren der Komponenten,
\item die Evaluation des Gesamtsystems umfasst.
\end{itemize}
\mbox{}\\
Für die Umsetzung benötigt es einen mechanischen, einen elektronischen, einen Hardware und einen Software-Teil.
Der mechanische Teil beinhaltet die Unterbringung der Zutaten und Elektronik, die Beförderung und Messung der Flüssigkeiten mittels Pumpen und Durchflusssensoren sowie die Bewegung des Glases mit einem bürstenlosen Gleichstrommotor. Die Verschalung rundet die Maschine ab und verhindert, dass sensible Teile angefasst oder nass werden können.
Zum elektrotechnischen Teil gehört unter anderem ein Display, über welches der Benutzer die Cocktails auswählen, erstellen oder bearbeiten kann. Eine mikroSD-Karte ermöglicht Cocktails, Zutaten und maschinenspezifische Zustände zu speichern. Ein RFID-Reader liest Tags aus, was ermöglicht Lieblingsgetränke zu hinterlegen und direkt in der Maschine anzuwählen.
Für die Verbindung zwischen Android-Applikation und Cocktailmaschine wird ein WiFi-/Bluetoothmodul verwendet. Mittels MOSFET-Schaltungen werden während der Erstellung von Cocktails die Pumpen vom Mikrocontroller ein- und ausgeschaltet. Die Ansteuerung und Regelung des bürstenlosen Gleichstrommotors ergibt sich aus einem FOC-Treiber und einem Gate-Treiber. Der ABN-Encoder liefert das Feedback zur Lage des Rotors, welche benötigt wird als Regelparameter für den FOC-Treiber.
Die entwickelte Leiterplatine gehört zum Hardware-Teil und bildet das Bindeglied zwischen Mechanik und Elektronik.
Der Softwareteil wird in drei Teilsoftwares geteilt. Alle Teile werden in verschiedenen Sprachen geschrieben. Die Firmware auf dem Mikrocontroller, welche in C geschrieben wurde, regelt den Programmfluss der gesamten Maschine. Die Firmware auf dem WiFi-Modul, welche in Arduino geschrieben wurde, bildet die Schnittstelle zwischen den Signalen der Android-Applikation und der Firmware. Die Android-Applikation wurde mit dem Online-Tool App-Inventor entwickelt und ermöglicht dem Anwender Cocktails über Fernzugriff zu erstellen und einem RFID-Tag zu zu weisen.


Damit alle Komponenten ansteuerbar sind, mussten einige Anpassungen an der Hardware vorgenommen werden. Dazu gehören aufgrund von Störungen auf dem SPI-Bus das Umlegen der SPI-Leitungen des RFID-Readers vom Mikrocontroller auf das WiFi-Modul und das Umlegen der SPI-Leitungen des TMC4671 auf ein separates Software-SPI. Die Motorengruppe läuft aufgrund von Defekten auf der Leiterplatine mit externen Boards. Die Firmware läuft bis auf ein paar
\todo{Resultate fertig schreiben wenn alles evaluiert.}





%Die in dieser Bachelorthesis entwickelte Cocktailmaschine ist ein IoT\footnote{\textbf{I}nternet \textbf{o}f \textbf{T}hings}-Produkt. Die Elemente sind eingebettet in Sensoren, Software und andere Technologien, welche es erlauben mit anderen Geräten zu kommunizieren. Zu den Elementen gehören ein Mikrocontroller mit zugehöriger Programmierschnittstelle, zwölf Pumpen sowie zugehörige Durchflusssensoren, ein RFID-Transponder, ein WiFi/Bluetooth-Modul mit zugehöriger Programmierschnittstelle, eine SD-Karte, ein FOC-Motorentreiber mit zugehörigem Kraft-Teil, ein Display und eine RGBW-LED-Regelung. Anhand der ersten Erfahrungen im Projekt 5 wurde eine Leiterplatine gelayoutet, welche die erwähnten Elemente verbindet. Über eine Android-Applikation wird den Benutzern die Möglichkeit geboten, einen neuen Cocktail zu erstellen oder das Lieblingsgetränk auszuwählen. Das gewählte Getränk kann dann vor Ort über den RFID-Tag bestellt werden. Die Mechanik besteht aus einem Aluminiumgerüst, welches verschalt wurde. Zusätzlich wurde zur Kühlhaltung eine Styroporbox um die Zutaten gebaut. Ein durch einen Motor angetriebener Schlitten fährt das Glas unter den gewünschten Flüssigkeitsauslass, wo das Glas befüllt wird. Die Dokumentation enthält eine Beschreibung der Platine und der darauf befindenden Elementen, eine Anleitung zur Inbetriebnahme der Elemente und einen Software-Teil. Das Produkt wurde physikalisch abgegeben und ist voll funktionsfähig.

\end{abstract}