\subsection{ESP32}
\label{subsec:Software_ESP32}

Bei der Inbetriebnahme in Kapitel \ref{subsubsec:ESP} wurde das ESP32 mittels eines Web-Servers getestet und in Betrieb genommen. Da jedoch dies für einen Benutzer relativ umständlich ist, wurde eine Android-App erstellt, mit welcher Befehle an das ESP32 gesendet werden können. Diese kommuniziert über Bluetooth und hat den Vorteil, dass man sich nicht jedes Mal in einem neuen Netz anmelden muss und sich somit auch nicht vom Heimnetz trennen muss. Man ist also trotzdem immer mit dem Heiminternet verbunden. Ein weiterer grosser Vorteil ist, dass eine App einiges Benutzerfreundlicher ist und somit einem auch mehr Spass bereitet.   

Die Software für das ESP32 wurde komplett in Arduino IDE geschriben und beinhaltet folgende Bereiche:

\begin{itemize}
\item Daten von der App empfangen
\item Daten an die App senden
\item Daten vom uP abfragen
\item Daten an den uP senden 
\item Daten vom RFID-Leser empfangen
\end{itemize}

Im Programm werden zuerst die notwendigen Bibliotheken  eingebunden. Dabei werden folgende Bibliotheken verwendet:

\begin{itemize}
\item Arduino.h
\item BluetoothSerial.h
\item SPI.h
\item MFRC522.h
\end{itemize}

Dabei beinhaltet die \flqq Arduino.h\frqq~Bibliothek die Standardbefehle von Arduino, die \flqq BluetoothSerial.h\frqq~Bibliothek beinhaltet alle Kommunikationsbefehle um über Bluetooth kommunizieren zu können, die \flqq SPI.h\frqq~Bibliothek beinhaltet alle Kommunikationsbefehle um über SPI kommunizieren zu können und die \flqq MFRC522.h\frqq~Bibliothek beinhaltet alle Befehle um mit dem RFID-Modul arbeiten zu können.

Es wurde bei der Programmierung darauf geachtet, dass mit möglichst einfachen mitteln gearbeitet wird. Um zu Kommunizieren wurden die Datentypen String und char verwendet. Für Zählvariablen wurde der Datentyp int verwendet. 